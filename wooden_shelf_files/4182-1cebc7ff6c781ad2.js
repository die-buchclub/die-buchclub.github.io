!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="9152429e-8fad-4f05-956a-0700d6d8deab",e._sentryDebugIdIdentifier="sentry-dbid-9152429e-8fad-4f05-956a-0700d6d8deab")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4182],{93682:function(e,t,a){a.d(t,{U:function(){return o},w:function(){return r}});let r=200,o=200},94182:function(e,t,a){a.d(t,{l:function(){return eV},Y:function(){return e5}});var r=a(97458),o=a(57291),n=a(98821),l=a.n(n),i=a(58058),s=a.n(i),c=a(52983),u=a(30948),d=a(64237),m=a(36244),_=a(41581),p=a(3223),h=a(16614),f=a(31760),w=a(70870),g=a(77475),x=a(20339),b=a(50987),v=a(65122),y=a(63081),j=a(33247),k=a(61821),N=a(52294),C=a(41776),T=a(4784),R=a(770),I=a(9249),z=a(30061),D=a(10893),E=a(59470);let P=()=>{let{t:e}=(0,D.$G)("common");return(0,r.jsxs)("span",{className:E.q,children:[(0,r.jsx)(I.T,{children:e("disneyResource")}),(0,r.jsx)(R.J,{as:z.Z,size:"3xs",className:"text-white"})]})},A=e=>{var t,a,o,n;let{resource:l,isDisneyResource:i=!1}=e,s=(0,v.e)(),{contentGroup:c}=(0,k.hv)(l),u=(0,j.R)(),{premium:d,isAIGenerated:m,authorName:_,type:p}=l;if(!d&&!m&&!i)return;let h=d&&s,f=l.isEditableInMockup?"mockups":null,w=l.isEditableInWepik?"templates":null,g=null!==(n=null!=f?f:w)&&void 0!==n?n:"premium_regular",x=u({type:p,authorName:_,isPremium:!0,isAIGenerated:m,eventName:"download__thumbnail_crown"});return x.append("origin","".concat(y.Ej,"_").concat(g)),(0,r.jsxs)(r.Fragment,{children:[h&&(0,r.jsx)("span",{className:E.q,children:(0,r.jsx)(T.s,{})}),d&&!h&&(0,r.jsx)("span",{className:E.q,children:(0,r.jsx)(C.w,{resource:{id:l.id,name:l.name,mediaUrl:null===(t=l.preview)||void 0===t?void 0:t.url,mediaHeight:null===(a=l.preview)||void 0===a?void 0:a.height,mediaWidth:null===(o=l.preview)||void 0===o?void 0:o.width,resourceType:"regular"},urlParams:x,category:c})}),m&&(0,r.jsx)(N.N,{}),i&&(0,r.jsx)(P,{})]})},O=(e,t)=>{let{width:a}=(0,w.n)(e),{width:r}=(0,w.n)(null!=t?t:{current:null});return a?a-(null!=r?r:0)-16-15:0},S=(e,t)=>{let[a,r]=(0,c.useState)(3);return(0,c.useEffect)(()=>{if(!(null==t?void 0:t.current))return;let{scrollWidth:a}=t.current,o=e-25;if(o<=0){r(1);return}if(a>o){r(e=>Math.max(e-1,1));return}a+80<=o&&r(e=>Math.min(e+1,3))},[e,t]),a};var U=a(3999),L=a(51780),G=a(95797),H=a(85e3),Z=a(30143);let M=e=>{let[t,a]=(0,c.useState)("");return(0,c.useEffect)(()=>{{let t=new URLSearchParams(window.location.hash.substring(1)).get(e);null!==t&&a(t)}},[e]),t},W=e=>{var t;let{resourceId:a,resourceUrl:r,previewUrl:o,isModal:n,position:l,fromView:i,action:s}=e,c=(0,L.useRouter)(),u=null!==(t=(0,H.Jn)("term"))&&void 0!==t?t:"",d=M("from_element"),m=(0,Z.fb)(a,r,{fromView:i,position:l,fromElement:d,query:u}),_=$({previewUrl:o,resourceId:a,isModal:n,action:s});return n?{href:{pathname:c.pathname,query:c.query},as:m,shallow:!0,scroll:!1,onClick:_}:{href:m,onClick:_}},$=e=>{let{previewUrl:t,resourceId:a,isModal:r,action:o}=e,n=(0,U.u)({previewUrl:t});return(0,G.Z)({itemId:a,isModal:r,previewUrlParams:n.includes("?")?new URLSearchParams(n.split("?")[1]).toString():"",action:o})};var B=a(45388),J=a(23113),K=a(34854),q=a(29084),F=a(87591),V=a(50829),Q=a(17722),Y=a(30569),X=a(35103);let ee=e=>{let{onDownload:t,isDownloading:a,premium:o,className:n,iconSize:l,creditCost:i}=e,{t:s}=(0,D.$G)(["detailCommon","common"]),c=(0,J.a)("lg"),u=(0,K.nD)(),d=(0,V.C)(),m=(0,X.O)(o),_=(0,r.jsx)(Y.K,{iconName:"download",onClick:t,dataCy:"download-thumbnail",disabled:!!m||a,loading:a,className:n,iconSize:l,children:(0,r.jsx)(I.T,{children:s("detailCommon:download")})});return c?m?(0,r.jsx)(Q.B,{blockStatus:m,container:u.current,children:_}):(0,r.jsx)(q.u,{disableHoverableContent:!0,content:(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[s("detailCommon:download"),d&&(0,r.jsx)(F.L,{creditCost:i,className:"bg-surface-foreground-2"})]}),contentProps:{side:"bottom",size:"sm"},showArrow:!1,children:(0,r.jsx)("div",{children:_})}):_};var et=a(85229),ea=a(46700),er=a(65724),eo=a(35576),en=a(24278),el=a(75045);let ei=(e,t)=>{let{id:a,name:r,author:o,type:n,premium:l,isAIGenerated:i,url:s,preview:u,isEditableInMockup:m,isEditableInWepik:_}=e,p=(0,j.R)(),{isUserWinback:h,showWinbackModal:f}=(0,et.l)(),w=p({authorName:o.name,isPremium:l,isAIGenerated:i,type:n,subtype:(0,d.y)({isEditableInWepik:_,isEditableInMockup:m}),eventName:"download__thumbnail"}),{isDownloading:g,handleDownload:x}=(0,el.i)({resource:{id:a,name:r,author:o,premium:l,regularType:n,isAIGenerated:i,url:s,preview:u,type:n},location:"resource_thumbnail",checkoutQueryParams:w,showAttributionModal:!1,searchExpression:t}),y=(0,ea.V)(),k=(0,eo.mS)(),N=(0,v.e)(),{contentGroup:C}=(0,en.hv)({id:a,type:n,isAIGenerated:i,premium:l,isEditableInMockup:m,isEditableInWepik:_}),T=(0,er.W)(a,C,"resource_thumbnail"),{showAttribution:R}=(0,b.J)(),I=(0,c.useCallback)(()=>{k({resourceId:a,isResourcePremium:l,resourceType:n,downloadType:"download"})},[k,a,l,n]);return{isDownloading:g,handleDownloadFromThumbnail:(0,c.useCallback)(async()=>{if(h){f();return}if(!N&&l){T({origin:"resource_thumbnail_premium",resourceData:{name:r,mediaUrl:u.url,mediaWidth:u.width,mediaHeight:u.height,resourceType:"regular"},checkoutQueryParams:w,onButtonClick:I});return}let e=await x();e&&(y(e.url,e.filename),R())},[h,N,l,x,f,T,r,u.url,u.width,u.height,w,I,y,R])}};var es=a(67651),ec=a(95733),eu=a(38741),ed=a(18666),em=a(45299);let e_=e=>{let{item:t,isCollectionItem:a,isCuratedCollection:o,openModal:n}=e,{id:l,name:i,author:s,type:c,premium:u,isAIGenerated:d,url:_,preview:p,isEditableInMockup:h,isEditableInWepik:f,creditCost:w}=t,{url:g,height:x,width:b}=p,v=!(0,es.h)(s.id),{isDownloading:y,handleDownloadFromThumbnail:j}=ei({id:l,name:i,author:s,type:null!=c?c:"photo",premium:u,isAIGenerated:d,url:_,preview:{url:g,height:x,width:b},isEditableInMockup:h,isEditableInWepik:f},(0,H.pt)()),k=(0,ec.E)(),N=(0,m.G)(),C=!k||k&&l!==N;return(0,r.jsxs)("div",{className:"flex flex-row gap-1",children:[C&&(0,r.jsx)(ed.B,{id:l,name:i,preview:p,inThumbnail:!0,showLabel:!1,type:c,tooltipProps:{side:"bottom",size:"sm"},as:Y.K}),(!a||o)&&(0,r.jsx)(eu.D,{type:t.type,id:t.id,location:"thumbnail",renderTrigger:e=>{let{onClick:t,ref:a}=e;return(0,r.jsx)(em.P,{onClick:t,ref:a})}}),a&&!o&&(0,r.jsx)(B.Q,{openModal:n,resourceId:t.id,resourceType:t.type}),v&&(0,r.jsx)(ee,{onDownload:j,isDownloading:y,premium:u,creditCost:w})]})};var ep=a(62311),eh=a(90715),ef=a(86101),ew=a(43192),eg=a(27793),ex=a(91394),eb=a(25983);let ev=(e,t,a)=>{let r=(0,en.m6)(t),o=(0,eb.L3)(),{loginUrl:n,setLoginCookies:l}=(0,eg.J)(),i=(0,ex.d)(),s=(0,eo.mS)(),c=()=>r?a:r?i||t?a:(l(),n):"".concat(o("/pricing"),"/").concat(e,"?origin=freepik_web");return()=>{if(!r){s({resourceId:e,isResourcePremium:t,resourceType:"template"}),window.location.href=c();return}window.location.href=c()}},ey=e=>{let{id:t,premium:a,urlEditor:o}=e,{t:n}=(0,D.$G)("common"),l=(0,J.a)("lg"),i=ev(t,a,o),s=(0,r.jsx)(ew.T,{label:n("editOnline"),dataCy:"edit-online-thumbnail",onClick:i});return l?(0,r.jsx)(ef.u,{side:"left",trigger:s,triggerAsChild:!0,hideOnLeaveHover:!0,children:n("editOnline")}):s};var ej=a(39230),ek=a(2200),eN=a(43683),eC=a(80751);let eT=(e,t)=>{let a=(0,v.e)(),r=(0,eC.H)(),o=!t||a;return(0,c.useMemo)(()=>r({tool:e,canUserDownloadResource:o}),[e,o,r])};var eR=a(58984);let eI=e=>{let{tool:t,resource:a}=e;return(0,eR.I)({tool:t,location:"thumbnail",resource:a})};var ez=a(82060);let eD=e=>{let{resource:t}=e,{t:a}=(0,D.$G)("editTools"),o=eI({tool:{name:"changeCamera"},resource:t}),{blockStatus:n}=eT("changeCamera",t.premium),l=(0,ek.n)(),i=!(0,v.e)()&&t.premium;return(0,r.jsx)(Q.B,{blockStatus:n,container:l.current,children:(0,r.jsxs)("button",{className:ez.tw,onClick:()=>o(),disabled:!!n,"data-cy":"thumbnail-menu-change-camera",children:[(0,r.jsx)(eN.ZP,{name:"camera",size:"xs"}),(0,r.jsx)("span",{children:a("changeCamera.name")}),i&&(0,r.jsx)(eN.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})},eE=e=>{let{resource:t}=e,{t:a}=(0,D.$G)("editTools"),o=eI({tool:{name:"imageEditor"},resource:t}),{blockStatus:n}=eT("imageEditor",t.premium),l=(0,ek.n)(),i=!(0,v.e)()&&t.premium;return(0,r.jsx)(Q.B,{blockStatus:n,container:l.current,children:(0,r.jsxs)("button",{className:ez.tw,onClick:()=>o(),disabled:!!n,"data-cy":"thumbnail-menu-edit-with-ai",children:[(0,r.jsx)(eN.ZP,{name:"image-editor",size:"xs"}),(0,r.jsx)("span",{children:a("imageEditor.nameC")}),i&&(0,r.jsx)(eN.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})};var eP=a(41937),eA=a(90312),eO=a(9382);let eS=e=>{let{resourceId:t,resourceUrl:a,previewUrl:o,position:n,fromView:l,isModal:i,isPremium:s,isCollectionItem:c=!1}=e,{t:u}=(0,D.$G)("editTools"),d=(0,eP.I)(),{setLoginCookies:m,signUpUrl:_}=(0,eA.e)(),p=(0,X.O)(s),h=(0,K.nD)(),f=!(0,v.e)()&&s,w=(0,L.useRouter)(),g=W({resourceId:t,resourceUrl:a,previewUrl:o,isModal:i,position:n,fromView:l,action:"remove-background"});return(0,r.jsx)(Q.B,{blockStatus:p,container:h.current,children:(0,r.jsxs)("button",{type:"button",onClick:e=>{if(d){e.preventDefault(),m(),window.location.href=_;return}if(p){e.preventDefault();return}if(c){w.push("".concat(a,"?action=remove-background"));return}g.onClick(e)},className:ez.tw,"data-cy":"menu-remove-background",disabled:!!p,children:[(0,r.jsx)(R.J,{as:eO.Z,size:"sm"}),(0,r.jsx)("span",{children:u("removeBackground.nameE")}),f&&(0,r.jsx)(eN.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})},eU=e=>{let{resource:t}=e,{t:a}=(0,D.$G)("editTools"),o=eI({tool:{name:"styleReference"},resource:t}),{blockStatus:n}=eT("styleReference",t.premium),l=(0,ek.n)(),i=!(0,v.e)()&&t.premium;return(0,r.jsx)(Q.B,{blockStatus:n,container:l.current,children:(0,r.jsxs)("button",{className:ez.tw,onClick:()=>o(),disabled:!!n,"data-cy":"thumbnail-menu-style-reference",children:[(0,r.jsx)(eN.ZP,{name:"double-star",size:"xs"}),(0,r.jsx)("span",{children:a("styleReference.name")}),i&&(0,r.jsx)(eN.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})},eL=e=>{let{resource:t}=e,{t:a}=(0,D.$G)("editTools"),o=eI({tool:{name:"useAsReference"},resource:t}),{blockStatus:n}=eT("useAsReference",t.premium),l=(0,ek.n)(),i=!(0,v.e)()&&t.premium;return(0,r.jsx)(Q.B,{blockStatus:n,container:l.current,children:(0,r.jsxs)("button",{className:ez.tw,onClick:()=>o(),disabled:!!n,"data-cy":"thumbnail-menu-use-as-reference",children:[(0,r.jsx)(eN.ZP,{name:"search-by-image",size:"sm"}),(0,r.jsx)("span",{children:a("useAsReference")}),i&&(0,r.jsx)(eN.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})},eG=e=>{let{resource:t}=e,{t:a}=(0,D.$G)("editTools"),o=eI({tool:{name:"variations"},resource:t}),{blockStatus:n}=eT("variations",t.premium),l=(0,ek.n)(),i=!(0,v.e)()&&t.premium;return(0,r.jsx)(Q.B,{blockStatus:n,container:l.current,children:(0,r.jsxs)("button",{className:ez.tw,onClick:()=>o(),disabled:!!n,"data-cy":"thumbnail-menu-variations",children:[(0,r.jsx)(eN.ZP,{name:"fps",size:"xs"}),(0,r.jsx)("span",{children:a("variations.name")}),i&&(0,r.jsx)(eN.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})};var eH=a(7616),eZ=a(7526),eM=a(31861);let eW=(e,t)=>["psd","vector"].includes(e)&&t,e$=()=>{let[e]=(0,eH.KO)(eM.GD);return(0,c.useCallback)((t,a)=>{let r=""===e?"".concat(eZ.KK).concat(t):"".concat(eZ.KK).concat(t,"?searchTerm=").concat(e),o="".concat(eZ.Iq).concat(t,"&provider=fp");return a?r:o},[e])},eB=e=>{let{resource:t}=e,{t:a}=(0,D.$G)("editTools"),o=(0,ek.n)(),n=eI({tool:{name:"useAsReference"},resource:t}),{blockStatus:l}=eT("useAsReference",t.premium);return(0,r.jsx)(Q.B,{blockStatus:l,container:o.current,children:(0,r.jsx)(ew.T,{onClick:()=>n(),disabled:!!l,dataCy:"thumbnail-use-as-reference",label:a("useAsReference"),iconLeftName:"search-by-image"})})},eJ=(0,c.forwardRef)((e,t)=>{let{thumbnailRef:a,item:o,position:n,isModal:l,fromView:i,isCollectionItem:s=!1}=e,{id:c,name:u,author:d,premium:m,isAIGenerated:_,type:p,url:h,preview:f,isEditableInMockup:w,isEditableInWepik:g}=o,x={id:c,name:u,author:d,premium:m,isAIGenerated:_,preview:f,type:p,url:h},b=g||w,v=e$(),y=(0,eh.n)({type:p,isEditableInMockup:w,isEditableInWepik:g,authorId:d.id}),j=eW(p,b),k=(0,ec.E)(),N=(0,ep.A)("FF_NEW_THUMBNAIL_AI_TOOLS");return(0,r.jsxs)("div",{ref:t,className:"flex flex-row gap-1",children:[k&&(0,r.jsx)(eB,{resource:{id:c,name:u,type:p,premium:m,isAIGenerated:_,preview:f,url:h,author:d}}),y&&!j&&(0,r.jsxs)(ej.$,{thumbnailRef:a,vertical:"regular",children:[(0,r.jsx)(eS,{resourceId:c,resourceUrl:h,position:n,isModal:l,fromView:i,previewUrl:f.url,isPremium:m,isCollectionItem:s}),(0,r.jsx)(eE,{resource:x}),(0,r.jsx)(eL,{resource:x}),N&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eU,{resource:x}),(0,r.jsx)(eG,{resource:x}),(0,r.jsx)(eD,{resource:x})]})]}),j&&!k&&(0,r.jsx)(ey,{premium:m,id:c,urlEditor:v(c,g)})]})}),eK=e=>{let{type:t,name:a,isPremium:r,fromView:o}=e,{t:n}=(0,D.$G)("common");if(!o||"keyword"!==o)return a;let l=a.toLowerCase(),i=n("regularTypeTitleQuantities.".concat(t,"_one"));return r?"".concat(i," ").concat(l):"".concat(n("seoRuleAlt",{type:i})," ").concat(l)},eq=(0,o.j)("block rounded object-cover object-center",{variants:{resizeIn:{width:"size-full",height:"h-full w-auto"}}}),eF=(0,c.forwardRef)((e,t)=>{let{item:a,position:n,fromView:i,isModal:w=!1,dataCy:x,priority:v,resizeParameter:y="width",isCuratedCollection:j,openModal:k,isCollectionItem:N=!1}=e,{preview:C,name:T,premium:R,type:I,author:z,id:D,isAIGenerated:E,url:P,topSearchExpressions:L,isEditableInMockup:G,isEditableInWepik:H}=a,Z="keyword"===i,[M,$]=(0,c.useState)(!1),{url:B,width:J,height:K}=C,q=(0,c.useRef)(null),F=(0,c.useRef)(null),V=S(O(t,q),F),{attributionEnabled:Q}=(0,b.J)(),Y=z.id===u.c,X=W({resourceId:a.id,resourceUrl:a.url,previewUrl:B,isModal:w,position:n,fromView:i}),ee=(0,U.u)({previewUrl:B}),et=(0,d.y)({isEditableInMockup:G,isEditableInWepik:H}),ea=eK({type:I,name:T,isPremium:R,fromView:i}),er=(0,p.z)({id:a.id,type:a.type,premium:a.premium,position:null!=n?n:0}),eo=(0,c.useCallback)(()=>{"function"==typeof er&&er(),$(!0)},[er]),en=(0,_.t)(D,I),el=(0,m.G)();return(0,r.jsx)(h.u,{ref:t,dataCy:x,dataAuthor:z.id.toString(),primaryActions:(0,r.jsx)(e_,{item:a,isCuratedCollection:j,openModal:k,isCollectionItem:N}),secondaryActions:(0,r.jsx)(eJ,{thumbnailRef:t,ref:q,item:a,position:n,isModal:w,fromView:i,isCollectionItem:N}),fixedSecondaryActions:D===el&&(0,r.jsx)(eB,{resource:{id:D,name:T,type:I,premium:R,isAIGenerated:E,preview:C,url:P,author:z}}),information:M&&(0,r.jsx)(A,{resource:{...a,authorName:a.author.name},isDisneyResource:Y}),searchExpressions:Z&&(0,r.jsx)(f.k,{items:L,style:"new",maxTags:V,tagsContainerRef:F}),attribution:Q&&(0,r.jsx)(g.i,{authorId:z.id,authorName:z.name,resourceUrl:P,resourceId:D,resourceName:T,mediaUrl:B,mediaWidth:J,mediaHeight:K,isAIGenerated:E,isPremium:R,resourceType:I,subtype:et}),children:(0,r.jsxs)(s(),{...X,className:(0,o.cx)("relative z-0 block h-full overflow-hidden rounded-xl","width"===y?"":"h-full"),prefetch:!1,children:[(0,r.jsx)(l(),{src:ee,alt:ea,width:J,height:K,className:(0,o.cx)(eq({resizeIn:y})),priority:v,onLoad:eo,suppressHydrationWarning:!0,onError:en}),(0,r.jsx)("div",{className:"absolute inset-0 z-0","aria-hidden":"true"})]})})}),eV=(0,c.forwardRef)((e,t)=>{let{height:a}=(0,w.n)(t);return(0,r.jsx)(x.l,{thumbnailHeight:null!=a?a:0,children:(0,r.jsx)(eF,{...e,ref:t})})});var eQ=a(33523),eY=a(72570),eX=a(93682);let e0=e=>{let{item:t,isDownloadEnabled:a}=e,{id:o,name:n,author:l,type:i,premium:s,isAIGenerated:c,url:u,preview:d,isEditableInMockup:_,isEditableInWepik:p,creditCost:h}=t,{url:f,height:w,width:g}=d,{isDownloading:x,handleDownloadFromThumbnail:b}=ei({id:o,name:n,author:l,type:null!=i?i:"photo",premium:s,isAIGenerated:c,url:u,preview:{url:f,height:w,width:g},isEditableInMockup:_,isEditableInWepik:p},(0,H.pt)()),v=(0,ec.E)(),y=(0,m.G)(),j=!v||v&&o!==y;return(0,r.jsxs)("div",{className:"flex flex-row gap-1",children:[j&&(0,r.jsx)(ed.B,{id:o,name:n,preview:d,inThumbnail:!0,showLabel:!1,type:i,tooltipProps:{side:"bottom",size:"sm"},as:Y.K}),a&&(0,r.jsx)(ee,{onDownload:b,isDownloading:x,premium:s,creditCost:h})]})},e1=e=>{let{item:t,isDownloadEnabled:a}=e,{id:o,premium:n,isEditableInMockup:l,isEditableInWepik:i,type:s}=t,c=e$(),u=eW(s,i||l);return!a&&u?(0,r.jsx)("div",{className:"flex flex-row gap-1",children:(0,r.jsx)(ey,{premium:n,id:o,urlEditor:c(o,i)})}):null},e2=(0,c.forwardRef)((e,t)=>{var a,o;let{item:n,categoryGAEvent:i,fromElement:m}=e,{id:_,type:p,preview:f,url:w,author:x,name:v,isAIGenerated:y,premium:j,isEditableInMockup:N,isEditableInWepik:C}=n,T="".concat(w).concat(m?"#from_element=".concat(m):""),R=null!==(a=null==f?void 0:f.url)&&void 0!==a?a:"",I=x.id===u.c,z=!(0,es.h)(x.id),{width:D,height:E}=null!=f?f:{width:eX.U,height:eX.w,url:""},P=D/E,O=eX.w*P,[S,U]=(0,c.useState)(!1),{isLoading:G,loaded:H}=(0,eY._)(R),Z=(0,eo.O5)(),M=(0,L.useRouter)(),W=(0,k.Zh)({itemId:_,isModal:!0}),{attributionEnabled:$}=(0,b.J)(),B=(0,d.y)({isEditableInMockup:N,isEditableInWepik:C});return(0,r.jsx)(h.u,{ref:t,dataCy:"related-thumbnail",dataAuthor:x.id.toString(),primaryActions:(0,r.jsx)(e0,{item:n,isDownloadEnabled:z}),secondaryActions:(0,r.jsx)(e1,{item:n,isDownloadEnabled:z}),information:S&&(0,r.jsx)(A,{resource:{...n,authorName:n.author.name},isDisneyResource:I}),attribution:$&&(0,r.jsx)(g.i,{authorId:x.id,authorName:x.name,resourceUrl:w,resourceId:_,resourceName:v,mediaUrl:null!==(o=null==f?void 0:f.url)&&void 0!==o?o:"",mediaWidth:D,mediaHeight:E,isAIGenerated:y,isPremium:j,resourceType:p,subtype:B}),children:(0,r.jsxs)(s(),{href:{pathname:M.pathname,query:M.query},as:T,shallow:!0,scroll:!1,className:'relative block h-[200px] overflow-hidden rounded-xl before:absolute before:inset-0 before:opacity-0 before:content-[""] hover:before:opacity-20',prefetch:!1,onClick:e=>{i&&Z(_,i,p),W(e)},children:[G&&f&&(0,r.jsx)(eQ.O.Rect,{style:{width:O,height:eX.w}}),(0,r.jsx)(l(),{className:e3({show:!G}),src:R,alt:v,onLoad:()=>{H(),U(!0)},width:O,height:eX.w,quality:90,loading:"lazy"}),(0,r.jsx)("div",{className:"absolute inset-0","aria-hidden":"true"})]})})}),e5=e=>{let t=(0,c.useRef)(null),{height:a}=(0,w.n)(t);return(0,r.jsx)(x.l,{thumbnailHeight:null!=a?a:0,children:(0,r.jsx)(e2,{...e,ref:t})})},e3=(0,o.j)("h-full object-cover",{variants:{show:{false:"absolute opacity-0"}}})},21255:function(e,t,a){a.d(t,{k:function(){return s}});var r=a(68147),o=a(26219),n=a(83380),l=a(5704),i=a(7009);let s=e=>{let t=(0,n.Z)(),a=(0,l.Jn)("term"),s=(0,r.I)()||0,c=(0,i.J)();return(r,n)=>{let l="term-related&language=".concat(t,"&ref=").concat(a,"&rel=").concat(n,"&ori=").concat(e,"&pos=").concat(r+1,"&uid=").concat(s).concat(c);(0,o.O)(encodeURI(l.toLowerCase()))}}},31760:function(e,t,a){a.d(t,{k:function(){return u}});var r=a(97458),o=a(25983),n=a(52983),l=a(86436),i=a(21255),s=a(5704);let c={psd:"/psd",vector:"/vectors",photo:"/photos",font:"/fonts"},u=e=>{var t;let{items:a,maxTags:u=3,style:d="old",tagsContainerRef:m}=e,_=c[null!==(t=(0,s.Jn)("type"))&&void 0!==t?t:""]||"/free-photos-vectors",p=(0,o.L3)()(_),h=(0,i.k)("tag"),f=(0,n.useMemo)(()=>a?a.slice(0,u).map(e=>{var t;let a="".concat(p,"/").concat(e.slug),r="".concat(_,"/").concat(e.slug);return{name:e.name,href:null!==(t=e.url)&&void 0!==t?t:r,as:a}}):[],[a,u,p,_]);return!a||0===a.length||u<=0?null:(0,r.jsx)("div",{ref:m,children:(0,r.jsx)(l.L,{tags:f,theme:"old"===d?"dark":"transparent",onTagClick:(e,t)=>{h(e,t.name)},className:"relative mt-4 flex size-full flex-wrap gap-3"})})}},58984:function(e,t,a){a.d(t,{I:function(){return f}});var r=a(65122),o=a(69762),n=a(43186),l=a(52983),i=a(33961),s=a(64458);let c=(e,t)=>{let a=u(e,t),r=d(e);if(!a)throw Error("There are no download parameters for ".concat(e.name," in ").concat(t));return{action:a,modifier:r}},u=(e,t)=>{var a;let r=null===(a=m[e.name])||void 0===a?void 0:a[t];if(!r)throw Error("There are no download parameters for ".concat(e.name," in ").concat(t));return r},d=e=>{if("workflow"===e.name){let t=_[e.subOption];if(!t)throw Error("There are no download parameters for workflow with ".concat(e.subOption));return t}},m={retouch:{detail:"ai_tool_retouch",postDownload:"ai_tool_retouch_after_download"},expand:{detail:"ai_tool_expand",postDownload:"ai_tool_expand_after_download"},reimagine:{detail:"ai_tool_reimagine",postDownload:"ai_tool_reimagine_after_download"},adjust:{detail:"ai_tool_adjust",postDownload:"ai_tool_adjust_after_download",thumbnail:"ai_tool_adjust_thumbnail"},replacebg:{detail:"ai_tool_replacebg"},video:{detail:"ai_tool_video",postDownload:"ai_tool_video_after_download"},assistant:{detail:"ai_tool_assistant",thumbnail:"ai_tool_assistant_thumbnail"},generatePrompt:{detail:"ai_tool_generate_prompt"},styleReference:{detail:"ai_tool_generate_style_ref",postDownload:"ai_tool_generate_style_ref_after_download",thumbnail:"ai_tool_generate_style_ref_thumbnail"},workflow:{detail:"ai_tool_assistant"},imageEditor:{thumbnail:"ai_tool_all_thumbnail",detail:"ai_tool_all",postDownload:"ai_tool_all_after_download"},useAsReference:{detail:"ai_tool_generate_use_as_reference",thumbnail:"ai_tool_generate_image_ref",postDownload:"ai_tool_generate_image_ref_after_download"},changeCamera:{detail:"ai_tool_change_camera",thumbnail:"ai_tool_change_camera_thumbnail",postDownload:"ai_tool_change_camera_after_download"},variations:{detail:"ai_tool_variations",thumbnail:"ai_tool_variations_thumbnail",postDownload:"ai_tool_variations_after_download"}},_={createSocialPost:"workflow_create_post",createPoster:"workflow_create_poster",mixImages:"workflow_mix_images",applyPromo:"workflow_apply_promo",createFlyer:"workflow_create_flyer",createLogoVariations:"workflow_create_logo_variations",localize:"workflow_localize",createLogo:"workflow_create_logo",applyColors:"workflow_apply_colors",replaceText:"workflow_replace_text",removeText:"workflow_remove_text",replaceElement:"workflow_replace_element",addElement:"workflow_add_element"};var p=a(75045);let h=e=>{let{tool:t,location:a,imageSrc:r,resource:o}=e,{id:u,name:d,author:m,premium:_,type:h,isAIGenerated:f,preview:w,url:g}=o,{action:x,modifier:b}=c(t,a),v=(0,s.M)({tool:t,resource:{type:h,subtype:h,authorName:m.name,isPremium:_,isAIGenerated:f}}),{handleDownload:y}=(0,p.i)({resource:{id:u,name:d,author:m,premium:_,regularType:h,isAIGenerated:f,url:g,preview:w,type:h},action:x,modifier:b,showAttributionModal:!1,skipDownloadTracker:!0,location:(0,i.d)({isResourcePremium:_,tool:t,location:a}),checkoutQueryParams:v}),j=(0,n.J)(),k=null!=r?r:w.url;return(0,l.useCallback)(async()=>{let e=await y(k);if(!(null==e?void 0:e.signedUrl))throw Error("Failed to download image");return j(),"".concat(e.signedUrl,"&w=2000&h=2000")},[k,y,j])},f=e=>{let{tool:t,location:a,imageSrc:n,extraParams:l,resource:i}=e,{id:s,premium:c,isAIGenerated:u,type:d,author:{name:m},name:_,preview:{url:p,width:f,height:w}}=i,g=(0,r.e)(),x=h({tool:t,location:a,imageSrc:n,resource:i});return(0,o.F)({tool:t,resource:{id:s,name:_,type:d,authorName:m,isPremium:c,isAIGenerated:u,groupedType:"regular",media:{url:p,width:f,height:w}},canDownloadResource:g||!c,imageSrc:n,getSignedResource:x,location:a,extraParams:l})}},15715:function(e,t,a){a.d(t,{H:function(){return o}});let r=e=>{let{resource:t,file:a,option:r,size:o,action:n,walletId:l,locale:i,modifier:s,searchExpression:c}=e,u=new URLSearchParams;return u.set("resource","".concat(t)),a&&r?(u.set("file",a),u.set("option","".concat(r))):o&&u.set("size","".concat(o)),n&&u.set("action",n),l&&u.set("walletId",l),u.set("locale",i),s&&u.set("modifier",s),c&&u.set("searchExpression",c),u.toString()},o=async e=>{let t=r(e),a=await fetch("/api/regular/download?".concat(t));return a.ok?{success:!0,data:await a.json()}:429===a.status?{success:!1,data:"DOWNLOAD_LIMIT_REACHED",metadata:"/download-limit"}:401===a.status||403===a.status||405===a.status?{success:!1,data:"AUTHENTICATION_ERROR"}:404===a.status?{success:!1,data:"NOT_FOUND"}:{success:!1,data:"UNKNOWN_ERROR"}}},75045:function(e,t,a){a.d(t,{i:function(){return D}});var r=a(72234),o=a(15880),n=a(68147),l=a(85229),i=a(25983),s=a(59608),c=a(52983),u=a(9036),d=a(35576),m=a(7526);let _=(e,t)=>t||("photo"===e?"jpg":"zip");var p=a(24278);a(97458);let h=(0,c.createContext)(null),f=()=>(0,c.useContext)(h)||{shouldTrackingLog:!0};var w=a(15715),g=a(32509),x=a(72661),b=a(72118),v=a(1850),y=a(64979),j=a(56879);let k=v.z.enum(["download","copy","edit","prompt","preview","remove_background","remove_background_edit","ai_video",y.cm,y.PF,y.p3,y.Kq,y.wK,y.os,y.H$,y.C0,y.u4,y.OI,y.Iu,y.e5,"ai_tool_retouch","ai_tool_retouch_after_download","ai_tool_expand","ai_tool_expand_after_download","ai_tool_reimagine","ai_tool_reimagine_after_download","ai_tool_adjust","ai_tool_adjust_after_download","ai_tool_replacebg","ai_tool_video","ai_tool_video_after_download","ai_tool_assistant","ai_tool_generate_prompt","ai_tool_generate_style_ref","ai_tool_generate_style_ref_after_download","ai_tool_generate_style_ref_thumbnail","ai_tool_adjust_thumbnail","ai_tool_assistant_thumbnail","ai_tool_all_thumbnail","ai_tool_all","ai_tool_generate_image_ref","ai_tool_all_after_download","ai_tool_generate_image_ref_after_download","ai_tool_generate_use_as_reference","ai_tool_variations","ai_tool_variations_thumbnail","ai_tool_change_camera","ai_tool_change_camera_thumbnail","ai_tool_change_camera_after_download","ai_tool_variations_after_download"]),N=v.z.enum(["workflow_create_post","workflow_create_poster","workflow_mix_images","workflow_apply_promo","workflow_create_flyer","workflow_create_logo_variations","workflow_localize","workflow_create_logo","workflow_apply_colors","workflow_replace_text","workflow_remove_text","workflow_replace_element","workflow_add_element"]);v.z.object({resource:v.z.coerce.number(),file:j.ru.optional(),option:v.z.coerce.number().optional(),size:v.z.coerce.number().optional(),action:k.optional(),modifier:N.optional(),walletId:v.z.string().nullable().optional(),locale:v.z.string(),searchExpression:v.z.string().optional()}),v.z.object({data:v.z.object({filename:v.z.string(),url:v.z.string(),prompt:v.z.string().optional(),signed_url:v.z.string().optional()})}).transform(e=>{let{data:t}=e;return t}).transform(e=>{let{signed_url:t,...a}=e;return{...a,signedUrl:t}});let C=v.z.array(v.z.string()),T=new Date(new Date().getTime()+48e4),R=b.Z.withConverter({write:e=>e}),I=e=>{try{let t=R.get(e);if(!t)return[];return C.parse(JSON.parse(t))}catch(e){return[]}},z=()=>{let e=(0,n.I)(),t=(0,x.b)();return(0,c.useCallback)(a=>{if(!e)return;let r="".concat("ck_items_").concat(e),o=I(r),n="".concat(a);if(!o.includes(n)){let e=JSON.stringify([...o,n]);R.set(r,e,{path:"/",domain:t,expires:T})}},[e,t])},D=e=>{let{resource:t,file:a,action:h="download",modifier:x,location:b="resource_detail",option:v,size:y,showAttributionModal:j=!0,handleError:k,checkoutQueryParams:N,skipDownloadTracker:C=!1,searchExpression:T}=e,{id:R,name:I,author:D,premium:E,regularType:P,isAIGenerated:A,url:O,type:S}=t,[U,L]=(0,c.useState)(!1),{isUserWinback:G,showWinbackModal:H}=(0,l.l)(),{showAttribution:Z}=(0,p.tc)(),M=z(),W=(0,g.b)({resource:t,location:b}),$=(0,d.mS)(),{shouldTrackingLog:B}=f(),{showDeviceBlockedModal:J,isDeviceBlocked:K}=(0,o.qx)(),q=(0,r.Lh)(),F=(0,n.I)(),V=(0,i.ZK)(),Q=(0,u.TH)({file_extension:_(P,a),file_name:I,file_id:R,license:E?"premium":"free",resolution:y?m.w8[y]:"original",style:"na",author_name:D.name,category:A?"ai_image":P,action:"prompt"===h?"view_prompt":h,location:b,url_link:O}),Y=(0,c.useCallback)(e=>{if(k){k(e);return}"prompt"!==h&&W(e,N)},[k,h,W,N]);return{handleDownload:(0,c.useCallback)(async(e,t)=>{if(K){J();return}if(G){H();return}L(!0),q||s.uT("WARNING: User ".concat(F," has no wallet_id"),"warning"),B&&!C&&$({resourceId:R,isResourcePremium:E,resourceType:S,downloadType:h,fileType:S,variant:b});let r=await (0,w.H)({resource:R,size:y?2e3:void 0,action:h,modifier:x,file:a,option:v,walletId:q,locale:V,searchExpression:T});if(r.success)return j&&Z&&Z(),L(!1),M(R),Q({externalUrl:null!=e?e:O,setting:t}),r.data;Y(r),L(!1)},[K,G,q,B,C,R,y,h,x,a,v,V,T,Y,J,H,F,$,E,S,b,j,Z,M,Q,O]),isDownloading:U}}},32509:function(e,t,a){a.d(t,{b:function(){return i}});var r=a(19170),o=a(10893),n=a(52983),l=a(65724);let i=e=>{var t;let{location:a,resource:i}=null!=e?e:{},{t:s}=(0,o.$G)("error"),{openToast:c}=(0,r.x_)(),u=(0,l.W)(null!==(t=null==i?void 0:i.id)&&void 0!==t?t:0,"",a);return(0,n.useCallback)((e,t)=>{if("DOWNLOAD_LIMIT_REACHED"===e.data&&i){u({resourceData:{name:i.name,mediaUrl:i.preview.url,mediaWidth:i.preview.width,mediaHeight:i.preview.height,resourceType:"regular"},checkoutQueryParams:t,modalType:"downloadLimit",origin:"download_limit"});return}if("AUTHENTICATION_ERROR"===e.data){window.location.href="/oauth-logout";return}"NOT_FOUND"===e.data&&c({type:"danger",message:s("notFound")}),"UNKNOWN_ERROR"===e.data&&c({type:"danger",message:s("unknown")})},[u,c,i,s])}}}]);